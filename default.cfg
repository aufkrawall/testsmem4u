# testsmem4u Default Configuration
# Designed for reliable RAM stability detection on consumer hardware
# Target: ~90 minutes per cycle on 32GB RAM (Ryzen 5700X class)
#
# Duration is controlled by two mechanisms:
# - Time (%): Global * Per-test / 100 = external loop count per test
# - Parameter: Internal repetitions within each test function
#
# With Global Time(%)=100 and per-test Time(%)=X:
#   loops = (100 * X) / 100 = X external loops
#
# Measured at 64MB (8 threads), projected to 25GB (~400x scaling):
#   SimpleTest: ~4ms/loop -> ~1.6s/loop at 25GB
#   WalkingOnes/Zeros: ~260ms/loop (64 patterns) -> ~104s/loop at 25GB
#   MirrorMove: 200 reps @ 2.3ms/rep -> ~0.92s/rep at 25GB
#   MirrorMove128: 200 reps @ 0.6ms/rep -> ~0.24s/rep at 25GB
#   BlockMove: ~0.6ms/loop -> ~0.24s/loop at 25GB
#   RandomAccess: ~8s (40x) @ 64MB, scales worse than linear (cache misses)

[Main Section]
Config Name=Default Stability Test
Config Author=testsmem4u
Cores=0
Tests=14
Time (%)=100
Cycles=8
Language=-1
# Sequence: Simple -> Address -> Walk -> Move -> Refresh -> Random -> Hammer
Test Sequence=0,1,2,3,4,5,6,7,8,9,10,11,12,13

[Global Memory Setup]
Channels=2
Interleave Type=1
Single DIMM width, bits=64
Operation Block, byts=64
Testing Window Size (Mb)=0
Lock Memory Granularity (Mb)=16
Reserved Memory for Windows (Mb)=512
Capable=0x0
Debug Level=1

# ============================================================================
# PHASE 1: Quick Pattern Stress
# 50 loops x ~1.6s/loop @ 25GB = ~80s each, ~4 min total for 3 tests
# ============================================================================

[Test0]
# All-zeros
Enable=1
Time (%)=50
Function=SimpleTest
Pattern Mode=0
Pattern Param0=0x0
Pattern Param1=0x0
Parameter=0
Test Block Size (Mb)=0

[Test1]
# All-ones
Enable=1
Time (%)=50
Function=SimpleTest
Pattern Mode=0
Pattern Param0=0xFFFFFFFFFFFFFFFF
Pattern Param1=0x0
Parameter=0
Test Block Size (Mb)=0

[Test2]
# Alternating
Enable=1
Time (%)=50
Function=SimpleTest
Pattern Mode=0
Pattern Param0=0xAAAAAAAAAAAAAAAA
Pattern Param1=0x0
Parameter=0
Test Block Size (Mb)=0

# ============================================================================
# PHASE 2: Heavy Algorithmic Tests
# 150 internal repeats x 1 loop @ 25GB = ~9 min
# ============================================================================

[Test3]
# MovingInversion (Standard)
Enable=1
Time (%)=1
Function=MovingInversion
Pattern Mode=0
Pattern Param0=0xAAAAAAAAAAAAAAAA
Pattern Param1=0x0
Parameter=150
Test Block Size (Mb)=0

# ============================================================================
# PHASE 3: Address/Data Line Tests
# 50 loops x ~1.6s/loop @ 25GB = ~80s each, ~2.5 min total
# ============================================================================

[Test4]
# Linear Address
Enable=1
Time (%)=50
Function=SimpleTest
Pattern Mode=2
Pattern Param0=0x12345678
Pattern Param1=0x9ABCDEF0
Parameter=0
Test Block Size (Mb)=4

[Test5]
# XOR Address
Enable=1
Time (%)=50
Function=SimpleTest
Pattern Mode=1
Pattern Param0=0xDEADBEEFCAFEBABE
Pattern Param1=0x7654321089ABCDEF
Parameter=0
Test Block Size (Mb)=4

# ============================================================================
# PHASE 4: Detailed Bit Tests
# 5 loops x 64 patterns x ~1.6s/pattern @ 25GB = ~8 min each
# ============================================================================

[Test6]
# WalkingOnes
Enable=1
Time (%)=5
Function=WalkingOnes
Pattern Mode=0
Pattern Param0=0x0
Pattern Param1=0x0
Parameter=0
Test Block Size (Mb)=0

[Test7]
# WalkingZeros
Enable=1
Time (%)=5
Function=WalkingZeros
Pattern Mode=0
Pattern Param0=0x0
Pattern Param1=0x0
Parameter=0
Test Block Size (Mb)=0

# ============================================================================
# PHASE 5: Controller Stress (Move/Random)
# ============================================================================

[Test8]
# MirrorMove
# 200 internal repeats x 1 loop = 200 passes (~3 min @ 25GB)
Enable=1
Time (%)=1
Function=MirrorMove
Pattern Mode=0
Pattern Param0=0xF0F0F0F0F0F0F0F0
Pattern Param1=0x0F0F0F0F0F0F0F0F
Parameter=200
Test Block Size (Mb)=0

[Test9]
# MirrorMove128
# 800 internal repeats x 1 loop (~3 min @ 25GB)
# Higher than MirrorMove because MirrorMove128 has no invert step (2 passes vs 4)
Enable=1
Time (%)=1
Function=MirrorMove128
Pattern Mode=0
Pattern Param0=0x5555555555555555
Pattern Param1=0xAAAAAAAAAAAAAAAA
Parameter=800
Test Block Size (Mb)=0

[Test10]
# BlockMove
# 200 external loops x ~0.24s/loop @ 25GB = ~48s
Enable=1
Time (%)=200
Function=BlockMove
Pattern Mode=0
Pattern Param0=0xCCC333CCC333ULL
Pattern Param1=0x0
Parameter=0
Test Block Size (Mb)=0

[Test13]
# Random Access
# Parameter=10 means iterate 10 * MemorySize random accesses
# At 25GB: ~10 min (random access latency dominates at large sizes)
Enable=1
Time (%)=1
Function=RandomAccess
Pattern Mode=0
Pattern Param0=0x0
Pattern Param1=0x0
Parameter=10
Test Block Size (Mb)=0

# ============================================================================
# PHASE 6: Retention & Physical
# ============================================================================

[Test11]
# RefreshStable
# 10 external loops x (write + 3000ms delay + verify) = ~35s
Enable=1
Time (%)=10
Function=RefreshStable
Pattern Mode=0
Pattern Param0=0xFFFFFFFFFFFFFFFF
Pattern Param1=0x0
Parameter=3000
Test Block Size (Mb)=0

[Test12]
# RowHammer (~5-10 min @ 25GB, scales with region size)
Enable=1
Time (%)=1
Function=RowHammer
Pattern Mode=0
Pattern Param0=0x0
Pattern Param1=0x0
Parameter=0
Test Block Size (Mb)=0
